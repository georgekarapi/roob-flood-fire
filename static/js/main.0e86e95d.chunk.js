(this["webpackJsonpcutler-dashboard"]=this["webpackJsonpcutler-dashboard"]||[]).push([[0],{172:function(t,e,n){"use strict";n.r(e);var a=n(3),c=n(0),r=n.n(c),i=n(9),s=n.n(i),l=(n(90),n(91),n(15)),o=n(206),j=n(210),u=n(212),b=n(214),d=n(175),O=n(74),h=n(92),p=n(118),x=Object(o.a)((function(t){return{root:{height:"100%"}}})),m=function(t){var e=t.viewport,n=(x(),Object(c.useState)({country:null,population:null,area:null,urban:null})),r=Object(l.a)(n,2),i=r[0],s=r[1];return Object(c.useEffect)((function(){if(e.wikidata){var t=e.wikidata,n=h.getEntities(t,["en"],["info","claims"],"json",!1);p(n).then((function(t){return t.json()})).then(h.parse.wd.entities).then((function(t){var e=t[Object.keys(t)[0]].claims;s({country:e.P17||null,population:e.P1082||null,area:e.P2046||null})}))}}),[e]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(b.a,{mb:4,mt:4,children:Object(a.jsx)(d.a,{variant:"h5",children:e.place})}),Object(a.jsxs)(b.a,{mt:4,children:[Object(a.jsx)(d.a,{variant:"h6",children:"Population:"}),Object(a.jsx)(d.a,{children:new Number(i.population).toLocaleString(Object(O.a)())})]}),i.area&&Object(a.jsxs)(b.a,{mt:2,children:[Object(a.jsx)(d.a,{variant:"h6",children:"Area:"}),Object(a.jsxs)(d.a,{children:[i.area," km\xb2"]})]})]})},f=n(209),v=Object(o.a)((function(t){return{root:{height:"100%"}}})),g=function(t){var e=t.title,n=t.subtitle,c=t.child,r=v();return Object(a.jsx)(f.a,{className:r.root,children:Object(a.jsxs)(b.a,{m:4,children:[Object(a.jsxs)(b.a,{mb:4,mt:4,children:[Object(a.jsx)(b.a,{children:Object(a.jsx)(d.a,{variant:"h5",children:e})}),Object(a.jsx)(b.a,{children:n&&Object(a.jsx)(d.a,{variant:"caption",children:n})})]}),Object(a.jsx)(b.a,{mt:4,children:c})]})})};g.defaultProps={title:"",subtitle:""};var w=g,k=(n(122),n(213)),y=n(211),I=function(){var t=Object(c.useState)(""),e=Object(l.a)(t,2),n=e[0],r=e[1],i=Object(c.useState)(""),s=Object(l.a)(i,2),o=s[0],u=s[1],b=Object(c.useState)(""),O=Object(l.a)(b,2),h=O[0],p=O[1],x=Object(c.useState)(0),m=Object(l.a)(x,2),f=m[0],v=m[1];return Object(c.useEffect)((function(){n&&o&&h&&0!==n&&0!==o&&0!==h&&v((n*o*h).toFixed(3))}),[n,o,h]),Object(a.jsxs)(j.a,{container:!0,justify:"center",spacing:2,children:[Object(a.jsx)(j.a,{item:!0,children:Object(a.jsx)(k.a,{label:"Area",variant:"outlined",value:n,onChange:function(t){return r(t.target.value)},InputProps:{startAdornment:Object(a.jsx)(y.a,{position:"start",children:"m\xb2"})}})}),Object(a.jsx)(j.a,{item:!0,children:Object(a.jsx)(k.a,{label:"Insurance Cost",variant:"outlined",value:o,onChange:function(t){return u(t.target.value)},InputProps:{endAdornment:Object(a.jsx)(y.a,{position:"end",children:"\u20ac/m\xb2"})}})}),Object(a.jsx)(j.a,{item:!0,children:Object(a.jsx)(k.a,{label:"Risk Score",variant:"outlined",value:h,onChange:function(t){return p(t.target.value)}})}),0!==f&&Object(a.jsx)(j.a,{item:!0,style:{marginTop:"auto",marginBottom:"auto"},children:Object(a.jsxs)(d.a,{children:[Object(a.jsx)("b",{children:"="}),f]})})]})},S=n(29),C=n.n(S),N=n(75),E=n.n(N),P=Object(o.a)((function(t){return{map:{position:"absolute",width:"100%",top:0,bottom:0}}})),A=function(t){t.viewport;var e=t.setViewport,n=P(),r=Object(c.useRef)(null);return C.a.accessToken="pk.eyJ1IjoiZ2thcmFwaSIsImEiOiJja2kya25rcHUxZW5hMnNvYW5vYWc1d2tpIn0.i3-Wxd8bAusPYp2R16fQtQ",Object(c.useEffect)((function(){var t=new C.a.Map({container:r.current,style:"mapbox://styles/gkarapi/cki4z3dbx1bst19rn9i2zmkug",center:[10.015,44.895],attributionControl:!1,maxZoom:7.6,zoom:3.8}),n=new E.a({accessToken:C.a.accessToken,mapboxgl:C.a});return n.setTypes("country,place"),t.addControl(n,"top-left"),t.addControl(new C.a.NavigationControl),n.on("result",(function(t){console.log(t),e({place:t.result.text||null,lat:t.result.center[0]||null,long:t.result.center[1]||null,wikidata:t.result.properties.wikidata||null})})),function(){return t.remove()}}),[]),Object(a.jsx)("div",{ref:r,className:n.map})},z=Object(o.a)((function(t){return{map:{zIndex:1},panel:{zIndex:2,position:"absolute",bottom:0}}})),T=function(){var t=z(),e=Object(c.useState)({place:null,lat:null,long:null,wikidata:null}),n=Object(l.a)(e,2),r=n[0],i=n[1];return Object(a.jsxs)("div",{className:t.root,children:[Object(a.jsx)(A,{className:t.map,viewport:r,setViewport:i}),Object(a.jsx)(u.a,{direction:"up",in:r.place,mountOnEnter:!0,unmountOnExit:!0,children:Object(a.jsxs)(j.a,{container:!0,className:t.panel,children:[Object(a.jsx)(j.a,{item:!0,md:6,sm:6,xs:12,children:Object(a.jsx)(w,{child:Object(a.jsx)(m,{viewport:r})})}),Object(a.jsx)(j.a,{item:!0,md:6,sm:6,xs:12,children:Object(a.jsx)(w,{title:"Risk Calculator",child:Object(a.jsx)(I,{})})})]})})]})};var J=function(){return Object(a.jsx)("div",{className:"App",children:Object(a.jsx)(T,{})})};s.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(J,{})}),document.getElementById("root"))},90:function(t,e,n){},91:function(t,e,n){}},[[172,1,2]]]);
//# sourceMappingURL=main.0e86e95d.chunk.js.map